# WineBot Status - 2026-02-09

## Current State
- Branch: `main`
- Release workflow hardening updates are merged and pushed.
- Latest release workflow validation run is green:
  - https://github.com/mark-e-deyoung/WineBot/actions/runs/21810848718

## Accomplishments This Session
1. Fixed release smoke scan reliability:
- Added disk cleanup before Trivy scan in `.github/workflows/release.yml`.
- Added explicit Trivy temp directory (`TRIVY_TEMP_DIR`) under `${GITHUB_WORKSPACE}`.
- Limited Trivy scan scope to vulnerabilities (`scanners: vuln`) to reduce unnecessary work.

2. Fixed release publish correctness:
- Replaced invalid `sigstore/cosign-installer` action pin with a valid immutable SHA in `.github/workflows/release.yml`.

3. Verified end-to-end workflow behavior:
- `smoke-test` passes (including Trivy step).
- `publish` passes (build+push+cosign signing).

## Commits
- `10d74f5` - Mitigate Trivy disk exhaustion in release smoke scan
- `2b8b033` - Fix cosign installer action pin in release workflow

## Release State
- `0.9.1` release exists, but its original release-triggered workflow run failed earlier due historical pipeline issues.
- Current `main` pipeline behavior is validated and passing after fixes.

## Recommended Next Step
1. Cut a patch release (`0.9.2`) from current `main` so the release tag corresponds to the now-correct pipeline and signed publish flow.

## Session Resume Notes
- If resuming, start by deciding whether to:
  1. Publish `0.9.2` now.
  2. Keep `0.9.1` and add release notes clarifying fixed CI hardening in later commits.
